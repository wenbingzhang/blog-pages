---
url: /blog/ffmpeg/Sy778INqIRM
title: "H.264：i帧，p帧，b帧介绍"
date: 2018-05-14T04:45:01+08:00
description:
categories:
  - FFmpeg
tags:
  - FFmpeg
menu: main
---

> i帧

帧内编码帧，i帧表示关键帧，它保留了一副画面完整的数据信息，解码的时候只需要这归真数据就可以完成（因为i帧里面包含了花面狸免得所有信息）

i帧的特点

…

## i帧

帧内编码帧，i帧表示关键帧，它保留了一副画面完整的数据信息，解码的时候只需要这归真数据就可以完成（因为i帧里面包含了花面狸免得所有信息）

### i帧的特点

1：它是一个全帧压缩编码帧，它将全帧图像信息进行JPEG压缩编码以及传输。

2：解码的时候只需要通过i帧的数据就可以重构完整的图像。

3：i帧描述了图像背景和运动主题的详情

4：i帧不需要参考其他画面二生成。

5：i帧是p帧和b帧的参考帧，i真的画面质量直接影响到了后面参考i帧的p帧和b真的图像质量。

6：i帧是基础帧，每一组里面只会有一个i帧。

7：i帧不需要参考运动矢量。

8：i帧所占数据的信息比较大。

## p帧

前向预测编码帧，p帧表示的是这一帧跟之前一个关键帧（或p帧）之间的差别。p帧解码的时候需要用到前面缓存的画面再爹加上这一阵的差别信息，生成完整的图像信息。

p帧的预测与重构。p帧是以i帧为参考帧，在i帧中找出”某点”的预测值和运动矢量。预测差别值和运动矢量一起传输，在接收端根据运动矢量从i帧中找出来p帧”某点”的预测值并且与差值相叠加得到p帧”某点”的结果。从而得到一个完整的p帧。

### p帧的特点

1：p帧是i帧后面相隔1~2帧的编码帧。

2：p帧采用运动补偿的方法传送它与前面的i帧或者p帧的差值以及运动矢量（预测误差）。

3：解码的时候必须将i帧中的预测值与预测误差求和之后才能重构完整的p真图像。

4：p帧属于向前预测的帧间编码，它只参考钱爱你最靠近它的i帧或者p帧。

5：p可以是后面的p真的参考帧，也可以是后面的b真的参考帧。

6：犹豫p帧是参考帧，它可能造成解码错误的扩散。

7：p真的压缩比例比较高。 B帧:双向预测内插编码帧。

## B帧

B帧是双向差别帧，也就是B帧记录的是本帧与前后帧的差别（具体比较复杂，有4种情况，但我这样说简单些），换言之，要解码B帧，不仅要取得之前的缓存画面，还要解码之后的画面，通过前后画面的与本帧数据的叠加取得最终的画面。B帧压缩率高，但是解码时CPU会比较累。

B帧的预测与重构

B帧以前面的I或P帧和后面的P帧为参考帧,“找出”B帧“某点”的预测值和两个运动矢量,并取预测差值和运动矢量传送。接收端根据运动矢量在两个参考帧中“找出(算出)”预测值并与差值求和,得到B帧“某点”样值,从而可得到完整的B帧。

### B帧特点

1.B帧是由前面的I或P帧和后面的P帧来进行预测的;

2.B帧传送的是它与前面的I或P帧和后面的P帧之间的预测误差及运动矢量;

3.B帧是双向预测编码帧;

4.B帧压缩比最高,因为它只反映丙参考帧间运动主体的变化情况,预测比较准确;

5.B帧不是参考帧,不会造成解码错误的扩散。

注:I、B、P各帧是根据压缩算法的需要，是人为定义的,它们都是实实在在的物理帧。一般来说，I帧的压缩率是7（跟JPG差不多），P帧是20，B帧可以达到50。可见使用B帧能节省大量空间，节省出来的空间可以用来保存多一些I帧，这样在相同码率下，可以提供更好的画质。